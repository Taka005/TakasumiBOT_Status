<!DOCTYPE html>
<html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

      <title>ステータスーTakasumiBOT</title>

      <head prefix="og: https://ogp.me/ns# fb: https://ogp.me/ns/ fb# prefix属性: https://ogp.me/ns/ prefix属性#">
      <meta property="og:url" content="https://status.taka.ml/index.html" />
      <meta property="og:type" content="website" />
      <meta property="og:title" content="トップページ" />
      <meta property="og:description" content="TakasumiBOTステータスページ" />
      <meta property="og:site_name" content="ステータス" />
      <meta property="og:image" content="https://status.taka.ml/images/takasumibot.png" />
    
      <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="./images/apple-touch-icon-180x180.png">
      <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon-16x16.png">
      <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="180x180" href="./images/apple-touch-icon-180x180.png">
      <link rel="icon" type="image/png" sizes="192x192" href="./images/android-icon-192x192.png">
      <link rel="icon" type="image/png" sizes="1024x1024" href="./images/takasumibot.png">

      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="TakasumiBOTのステータスを表示しています。不具合等があれば、サポートサーバーまでよろしくお願いします">
      <meta name="keywords" content="Discord,TakasumiBOT,Taka005">

      <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js" integrity="sha256-+8RZJua0aEWg+QVVKg4LEzEEm/8RFez5Tb4JBNiV5xA=" crossorigin="anonymous"></script>
      <style>
        canvas {
          margin: 5%;
          padding: 5%;
        }
      </style>
    </head>
    <body class="bg-light">
      <div class="container w-75">
        <h1 class="text-center text-info my-4">ステータス</h1>
        <canvas id="status" width="50" height="50"></canvas>
      </div>
        <script>
          async function main(){
            const api = await fetch("https://taka.ml/api/date")
              .then(res=>res.json())
              .catch(()=>console.log("Fetch Error"))
            const ctx = document.getElementById("status").getContext('2d');
            const ping = new Chart(ctx, {
              type: "line",
                data: {
                  labels: api.time,
                  datasets: [{
                    label: "Ping",
                    data: api.ping,
                    backgroundColor: 'rgba(0,0,255)',
                    borderColor: 'rgba(0,0,255)',
                    borderWidth: 1
                  },
                  {
                    label: "ユーザー",
                    data: api.user,
                    backgroundColor: 'rgba(255,0,0)',
                    borderColor: 'rgba(255,0,0)',
                    borderWidth: 1
                  },
                  {
                    label: "サーバー",
                    data: api.guild,
                    backgroundColor: 'rgba(255,255,0)',
                    borderColor: 'rgba(255,255,0)',
                    borderWidth: 1
                  },
                  {
                    label: "グローバルチャット",
                    data: api.gc,
                    backgroundColor: 'rgba(255,128,0)',
                    borderColor: 'rgba(255,128,0)',
                    borderWidth: 1
                  },
                  {
                    label: "CPU",
                    data: api.cpu,
                    backgroundColor: 'rgba(96,96,96)',
                    borderColor: 'rgba(96,96,96)',
                    borderWidth: 1
                  },
                  {
                    label: "メモリー",
                    data: api.ram,
                    backgroundColor: 'rgba(0,255,255)',
                    borderColor: 'rgba(0,255,255)',
                    borderWidth: 1
                  }]
                },
                options: {
                  title: {
                    display: true,
                    text: "ステータス"
                  },
                  legend: {
                      position: 'left',
                  },
                  responsive: true,
                  scale: {
                    pointLabels: {
                      fontSize: 15,
                    },
                    ticks: {
                      stepSize: 5,
                      beginAtZero:true,
                      suggestedMax: 700,
                      suggestedMin: 0,
                    }
                  },
                }
            });
          }
          main()
        </script>
    </body>
</html>